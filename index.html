<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Dantzig ‚Äî Demo interattiva</title>
  <link rel="icon" href="icon-192.png">
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#111111">
  <style>
    /* Inline critical CSS per caricamento rapido (duplicato anche in style.css) */
    :root{--bg:#0f0f12;--fg:#e7e7ec;--muted:#9aa0a6;--accent:#66d9ef;--card:#18181c}
    *{box-sizing:border-box} html,body{height:100%}
    body{margin:0;font:16px/1.45 system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Arial, sans-serif;background:var(--bg);color:var(--fg)}
    header{padding:18px 16px;border-bottom:1px solid #222;background:linear-gradient(0deg, #121219, #0f0f12)}
    header h1{margin:0;font-size:20px;letter-spacing:.5px}
    header p{margin:.35rem 0 0;color:var(--muted);font-size:14px}
    main{max-width:980px;margin:0 auto;padding:16px}
    .card{background:var(--card);border:1px solid #222;border-radius:12px;padding:16px;margin:16px 0}
    .grid{display:grid;grid-template-columns:1fr;gap:12px}
    @media(min-width:860px){.grid{grid-template-columns: 1.1fr .9fr}}
    label{display:block;font-size:13px;color:var(--muted);margin:4px 0}
    input,select,button{background:#111318;color:var(--fg);border:1px solid #2a2d35;border-radius:8px;padding:8px 10px}
    input[type=number]{width:120px}
    button{cursor:pointer}
    .row{display:flex;flex-wrap:wrap;gap:10px;align-items:end}
    canvas{width:100%;height:360px;background:#0d0f14;border-radius:10px;border:1px solid #222}
    small.code{font-family:ui-monospace,SFMono-Regular,Consolas,Monaco,Menlo,monospace;color:#bdbdbd}
    footer{color:var(--muted);font-size:13px;padding:24px 16px;text-align:center}
    .kbd{padding:0 6px;border:1px solid #333;border-bottom-width:2px;border-radius:6px;background:#0b0d11;font-family:ui-monospace}
    .pill{display:inline-block;padding:2px 8px;border:1px solid #2a2d35;border-radius:999px;color:#cfd8dc;background:#101218;font-size:12px}
    a{color:var(--accent);text-decoration:none}
    .mono{font-family:ui-monospace,SFMono-Regular,Consolas,Monaco,Menlo,monospace}
  </style>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <h1>Dantzig ‚Äî Due problemi ‚Äúimpossibili‚Äù</h1>
    <p>Una piccola app interattiva per visualizzare i risultati dei due problemi risolti da George B. Dantzig (1939): <span class="pill">potenza vs œÉ</span> e <span class="pill">Neyman‚ÄìPearson</span>.</p>
  </header>

  <main>
    <section class="card grid">
      <div>
        <h2 style="margin-top:0">Problema (1) ‚Äî Potenza del test t vs œÉ</h2>
        <p>Fissando lo scarto reale <span class="mono">Œî = Œº‚ÇÅ ‚àí Œº‚ÇÄ</span>, la potenza del test t <em>dipende</em> da œÉ. Usa i controlli per simulare e tracciare <strong>potenza(œÉ)</strong>.</p>
        <div class="row">
          <div>
            <label>n (osservazioni)</label>
            <input id="n1" type="number" value="20" min="5" max="100">
          </div>
          <div>
            <label>Œ± (livello)</label>
            <input id="alpha1" type="number" value="0.05" step="0.01" min="0.001" max="0.2">
          </div>
          <div>
            <label>Œî = Œº‚ÇÅ ‚àí Œº‚ÇÄ</label>
            <input id="delta1" type="number" value="1.0" step="0.1">
          </div>
          <div>
            <label>œÉ min/max</label>
            <input id="smin" type="number" value="0.5" step="0.1">
            <input id="smax" type="number" value="3.0" step="0.1">
          </div>
          <div>
            <label>Trial Monte Carlo</label>
            <input id="trials1" type="number" value="20000" step="5000" min="2000">
          </div>
          <button id="run1">Simula & Disegna</button> <button id="anim1">Animazione</button> <button id="rec1">Registra WebM</button>
        </div>
      </div>
      <div>
        <canvas id="chart1" width="900" height="360" aria-label="Potenza vs sigma"></canvas>
        <p><small class="code" id="res1"></small></p>
      </div>
    </section>

    <section class="card grid">
      <div>
        <h2 style="margin-top:0">Problema (2) ‚Äî Lemma di Neyman‚ÄìPearson</h2>
        <p>Confronto tra <strong>LRT</strong> (una coda) e un test bilaterale allo stesso livello Œ± per <span class="mono">X·µ¢ ~ ùí©(Œº, œÉ¬≤)</span> con œÉ noto.</p>
        <div class="row">
          <div>
            <label>n</label>
            <input id="n2" type="number" value="10" min="5" max="200">
          </div>
          <div>
            <label>Œ±</label>
            <input id="alpha2" type="number" value="0.05" step="0.01" min="0.001" max="0.2">
          </div>
          <div>
            <label>Œº‚ÇÄ</label>
            <input id="mu0" type="number" value="0.0" step="0.1">
          </div>
          <div>
            <label>Œº‚ÇÅ</label>
            <input id="mu1" type="number" value="0.5" step="0.1">
          </div>
          <div>
            <label>œÉ (noto)</label>
            <input id="sigma2" type="number" value="1.0" step="0.1">
          </div>
          <div>
            <label>Trial Monte Carlo</label>
            <input id="trials2" type="number" value="50000" step="5000" min="5000">
          </div>
          <button id="run2">Simula</button> <button id="anim2">Animazione</button> <button id="rec2">Registra WebM</button>
        </div>
      </div>
      <div>
        <canvas id="chart2" width="900" height="360" aria-label="Distribuzioni sotto H0/H1"></canvas>
        <p><small class="code" id="res2"></small></p>
      </div>
    </section>

    <section class="card">
      <h3>Come funziona</h3>
      <ol>
        <li><strong>Problema (1):</strong> si calibra il test t sotto H‚ÇÄ e si misura la potenza sotto H‚ÇÅ per una griglia di œÉ. La curva mostra che la potenza <em>varia</em> con œÉ.</li>
        <li><strong>Problema (2):</strong> si tarano le soglie di livello Œ± e si confrontano le potenze: il <span class="pill">LRT</span> √® pi√π potente del test bilaterale verso Œº‚ÇÅ &gt; Œº‚ÇÄ.</li>
      </ol>
      <p>Questa √® una <em>illustrazione computazionale</em> fedele allo spirito dei risultati di Dantzig; non √® una dimostrazione formale.</p>
    </section>
  </main>

  <footer>
    <span>&copy; 2025 ‚Ä¢ Demo educativa ispirata a George B. Dantzig ‚Ä¢ MIT License</span>
  </footer>

  <script src="script.js"></script>

  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('./service-worker.js');
      });
    }
  </script>
</body>

</html>
